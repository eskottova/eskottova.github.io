<!DOCTYPE html>
<html>
  <head>
    <title>BINARY_255</title>
    <style>
      circle	
      {
        cy:55;
        r:50;
        fill:none;
        stroke:rgb(255,255,0);
        stroke-width:5;
      }
      body 
      {
        background:rgb(0,0,0);
        color:rgb(255, 255, 0);
        font-family:sans-serif;
        font-size:2em;
      }
      h2
      {
        color:rgb(0, 0, 0);
      }
      button 
      {
        background:rgb(0, 0, 0);
        border:1px solid rgb(255, 255, 0);
        color:rgb(255, 255, 0);
        font-size:2em;
      }
    </style>
  </head>
  <body>
      <h1>BINARY_255</h1><br>
      <svg height="110" width="1160">
        <circle id="circle8" cx="55"/>
        <circle id="circle7" cx="205"/>
        <circle id="circle6" cx="355"/>
        <circle id="circle5" cx="505"/>
        <circle id="circle4" cx="655"/>
        <circle id="circle3" cx="805"/>
        <circle id="circle2" cx="955"/>
        <circle id="circle1" cx="1105"/>
    </svg><br>
    <h2 id="countInBinaryH2"></h2>
    <button onclick="countInBinary();" >Click to start</button>
    <script>
      var light1 = document.getElementById("circle1");
      var light2 = document.getElementById("circle2");
      var light3 = document.getElementById("circle3");
      var light4 = document.getElementById("circle4");
      var light5 = document.getElementById("circle5");
      var light6 = document.getElementById("circle6");
      var light7 = document.getElementById("circle7");
      var light8 = document.getElementById("circle8");
      var H2 = document.getElementById("countInBinaryH2");
      var lightOn = function(onLight) 
      {
        onLight.style.fill = "rgb(255, 255, 0)";
      }
      var lightOff = function(offLight) 
      {
        offLight.style.fill = "rgb(0, 0, 0)";
      }
        var lights = [light1, light2, light3, light4, light5, light6, light7, light8];
        
        var v = 0; //used for a loop wich turns off lights 
        var w = 0; //checks if x is divisible by y
        var x = 0; //number wich should be displayed
        var y = 0; //value of the pin
        var z = -1; //pin number
        var reset = true;
        var counting = true; //checks if the prgram is allowed to count
        var on = false; //if true, it won't turn off the light for the number that should be dispalyed
        
        var countInBinary = function()
        {
          if(counting)
          {
            if(x === 0 && !reset)
            {
              for(v = 0; v < 8; v++)
              {
                lightOff(lights[v]);
              }
              x = 1;
              reset = true;
            }
            else
            {
              x ++; //counts
              H2.innerHTML = x; //displays the binary number in decimal
              z = -1; //resetting z 
              for(y = 1; y < 255; y *= 2) //cycle through pins by using multiples of 2 (binary!)
              {
                w = x % y; //setting w to the remainder of x / y 
                z ++;
                on = false; //resetting on
                if((x - w) % y == 0 && (x - w) % (y * 2) != 0) //complicated condition
                {
                  lightOn(lights[z]); 
                  on = true;
                }
                else if(!on)
                {
                  lightOff(lights[z]);
                }
              }
            }  
            if(x < 255) //runs the function until x is equal to 255
            {
              setTimeout(countInBinary, 1000); //wait 1000 milliseconds until next number
            }
            else
            {
              counting = false; //the program will stop counting
              setTimeout(allowToCount, 2000); /*waits a 2 seconds before it allows to start again*/
            }
          }
        }  
        var allowToCount = function()
        {
          counting = true;
          x = 0;
        }
    </script>
  </body>
</html>
