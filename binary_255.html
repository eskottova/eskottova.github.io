<!DOCTYPE html>
<html>
  <head>
    <title>BINARY_255</title>
    <style>
      #circles div, #circles3 div
      {
        display:inline-block;
        border-radius:50%;
        height:50px;
        width:50px;
      }
      body 
      {
        background:rgb(0,0,0);
        color:rgb(255, 255, 155);
        font-family:sans-serif;
        font-size:2em;
      }
      h2
      {
        color:rgb(255, 255, 155);
      }
      button 
      {
        background:rgb(0, 0, 0);
        border:1px solid rgb(255, 255, 155);
        color:rgb(255, 255, 155);
        font-size:2em;
      }
    </style>
  </head>
  <body>
      <h1>BINARY_255</h1><br>
    <h2 id="countInBinaryH2"></h2>
    <div id="circles"></div>
    <div id="circles3"></div>
    <button onclick="countInBinary();countInBase3();" >Click to start</button>
    <script>
      var circles = [];
      for(i = 15; i >= 0; i--)
      {
      circles[i] = document.createElement("div");
      if(i >= 8)
      {
        document.getElementById("circles3").appendChild(circles[i]);
      }
      else
      {
        document.getElementById("circles").appendChild(circles[i]);
      }
      }
      var H2 = document.getElementById("countInBinaryH2");
      var lightOn = function(onLight) 
      {
        onLight.style.background = "rgb(255, 255, 155)";
      }
      var lightOff = function(offLight) 
      {
        offLight.style.background = "rgb(0, 0, 0)";
      } 
      var v = 0; //used for a loop wich turns lights off 
      var w = 0; //checks if x is divisible by y
      var x = 0; //number wich should be displayed
      var y = 0; //value of the pin
      var z = 0; //pin number
      var reset = true;
      var counting = true; //checks if the prgram is allowed to count
      var on = false; //if true, it won't turn off the light for the number that should be dispalyed
      var countInBinary = function()
      {
        if(counting)
        {
          if(x === 0 && !reset)
          {
            for(v = 0; v < 8; v++)
            {
              lightOff(circles[v]);
            }
            x = 1;
            reset = true;
          }
          else
          {
            x ++; //counts
            H2.innerHTML = x; //displays the binary number in decimal
            z = 0; //resetting z 
            for(y = 1; y < 255; y *= 2) //cycle through pins by using multiples of 2 (binary!)
            {
              w = x % y; //setting w to the remainder of x / y
              on = false; //resetting on
              if((x - w) % y == 0 && (x - w) % (y * 2) != 0) //complicated condition
              {
                lightOn(circles[z]); 
                on = true;
              }
              else if(!on)
              {
                lightOff(circles[z]);
              }
              z ++;
            }
          }  
          if(x < 255) //runs the function until x is equal to 255
          {
            setTimeout(countInBinary, 300); //wait 300 milliseconds until next number
          }
          else
          {
            counting = false; //the program will stop counting
            setTimeout(allowToCount, 2000); //waits a 2 seconds before it allows to start again
          }
        }
      }  
      var allowToCount = function()
      {
        counting = true;
        x = 0;
      }
    </script>
  </body>
</html>
