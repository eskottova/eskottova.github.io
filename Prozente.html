<!Doctype HTML>
<html>
  <head>
    <style>
      body{
        background:rgb(28,28,121);
        font-size:2em;
        font-family:sans-serif;
      }
      h1, h2, p{
        color:rgb(120,120,200);
      }
      input, button{
        font-size:1.3em;
        color:rgb(28,28,121);
        background:rgb(120,120,200);
        border:3px solid rgb(28,28,121);
      }
      #container1{
        float:left;
        width:33%;
      }
      #container2{
        width:34%;
        margin:auto;
      }
      #container3{
        float:right;
        width:33%;
      }
      #prozentsatz4{
        color:white;
      }
    </style>
  </head>
  <body>
    <script>
      var prozentsatz = function(){
        var p1 = document.getElementById("prozentsatz1");
        var p2 = document.getElementById("prozentsatz2");
        var p3 = document.getElementById("prozentsatz3");
        p1.innerHTML = "Beim Prozentsatz muss man herausfinden, wie viele Prozent a von b sind. Beispiel: '40 von 50 sind 80%'" + 
                       " oder 'a von b sind c %'";
        p2.innerHTML = "In das nächste Eingabefeld schreibst du die erste Zahl also z.B. '40'.<br><input id='a1'><br><br>";
        p3.innerHTML = "In das nächste Eingabefeld schreibst du die zweite  Zahl also z.B. '50'.<br><input id='b1'><br><br>" + 
                       "<button onclick='ausrechnen1()'>Ausrechnen</button><br>";
      }
        var ausrechnen1 = function(){
          var a = Number(document.getElementById("a1").value);
          var b = Number(document.getElementById("b1").value);
          var result = a/b*100;
          var message = a + " von " + b + " sind " + result + " %.";
          var p4 = document.getElementById("prozentsatz4");
          p4.innerHTML = message;
        }
        
      var prozentwert = function(){
        var p1 = document.getElementById("prozentwert1");
        var p2 = document.getElementById("prozentwert2");
        var p3 = document.getElementById("prozentwert3");
        var p4 = document.getElementById("prozentwert4");
        var p5 = document.getElementById("prozentwert5");
        var p6 = document.getElementById("prozentwert6");
        p1.innerHTML = "Beim Prozentwert muss man herausfinden, wie viel a Prozent von b sind. Beispiel: '60% von 50 sind 30'" + 
                       " oder 'a% von b sind c'";
        p2.innerHTML = "Hier gibt es das Problem mit den Brüchen. Falls du eine Prozentzahl mit einem Bruch brauchst" +
                       "(z.B. 33.333...%) schreibst du 'ja' in dieses Feld.Wenn nicht schreibe 'nein' " +
                       "(achte in beiden Fällen darauf, dass das Wort kleingeschrieben wird!).<br><input id='a2'><br><br>";
        p3.innerHTML = "In das nächste Eingabefeld schreibst du die Prozentzahl. Also z.B. '60'. " +
                       "Falls du einen Bruch brauchst, gib nur den Zähler an. "+
                       "z.B.33.33333...=1/3='1'<br><input id='b2'><br><br>" + 
                       "<button onclick='ausrechnen1()'>Ausrechnen</button><br>";
        p4.innerHTML = "Das nächste Eingabefeld ist nur für den Fall, dass man einen Bruch braucht.  " +
                       "Gib den Nenner an. z.B.33.33333... = 1/3 = '3'<br><input id='c2'><br><br>" + 
                       "<button onclick='ausrechnen1()'>Ausrechnen</button><br>";
        p5.innerHTML = "In das nächste Eingabefeld schreibst du die andere Zahl. Also z.B. '50'." + 
                       "<br><input id='d2'><br><br><button onclick='ausrechnen1()'>Ausrechnen</button><br>";               
      }
        var ausrechnen1 = function(){
            var a = Number(document.getElementById("a2").value);
            var b = Number(document.getElementById("b2").value);
            var c = Number(document.getElementById("c2").value);
            var d = Number(document.getElementById("d2").value);
            var p6 = document.getElementById("prozentwert6");
          if(a2 === "nein"){
            var result = d/100*b;
            var message = b + " % von " + d + " sind " + result + " .";
          }else if(a2 === "nein"){ 
            var result = d/c*b;
            var message = b + "/" + c + " % von " + d + " sind " + result +" .";
          }else{
            alert("Du hast 'ja' oder 'nein' beim ersten Eingabefeld vergessen oder falsch geschrieben.");
          }
          
            p6.innerHTML = message;
        }
      
      var grundwert = function(){
        alert("Beim Gesamtwert hat man zwei Zahlen: 1. Wie viele Prozent und 2. wie viele Franken." +
              "Der Computer rechnet nachher aus, wie viele Franken das sind.");
        var bruch = confirm("Brauchst du einen Bruch bei den Prozenten?('OK' = Ja, 'Cancel' = Nein)");
        if(bruch){
          alert("Zuerst musst du eingeben wie viele Prozent es sind." +
                "Danach gibst du den Bruch ein. Zum Schluss schreibst du noch von wie vielen Franken." +
                "(z.B. 33.33333....% = 90Franken = 1. : '33', 2. : '1/3', 3. : '90')");
          var a = Number(prompt("Wie viele Prozent?Gib nur die Zahn ein!(z.B. 33.66666...='33')"));
          var a2 = Number(prompt("+ Welcher Bruch?(z.B. 33.66666...='2/3')"));
          var a3 = Number(prompt("a3"));
          var a4 = a + a2/a3;
          var b = prompt("= wie viele Franken?");
          var result = b/a4*100;
          alert("Wenn " + a4 + " Prozent " + b + " Franken sind, sind 100% " + result + " Franken");
        }else{
          var a = prompt("Wie viele Prozent?");
          var b = prompt("= Wie viele Franken?");
          var result = b/a*100;
          alert(a + " Prozent " + b + " Franken sind, sind 100% " + result + " Franken");
        }  
      }
      var erstesMal = function(){
        alert("Willkommen. Ich arbeite gerade an dieser Webseite. Wenn du Ideen hast wie ich was verbessern sollte, " +
              "kannst du mir dies mitteilen. Lies am besten die allgemeinen Infos durch.");
      }
      var infos = function(){
        var button = document.getElementById("bu");
        var paragraph = document.getElementById("p");
        if(button.class === "1"){
          button.innerHTML = "Allgemeine Infos";
          button.class = "2";
          paragraph.innerHTML = "";
        }else{
          button.innerHTML = "OK";
          button.class = "1";
          paragraph.innerHTML = "Wenn du Franken angeben musst, musst du es als normale Zahl schreiben.<br>" + 
                                "(z.B. 5 Franken und 50 Rappen = '5.50')<br><br>" +
                                "Wenn du Prozente angeben musst gibst du diese auch nur als Zahl an.<br>" +
                                "(z.B. 50 Prozent = '50')<br>" +
                                "Bei den Prozenten gibt es ein Problem : Brüche!<br>" +
                                "Deswegen wirst du zuerst gefragt ob du Brüche verwenden willst oder nicht.<br>"+
                                "Falls du Brüche verwendest musst du das Resultat im Moment noch runden.<br><br>"+
                                "Sollte das Resultat ein Mal 'NaN' entsprechen, hast du eine ungültige<br>" +
                                "oder gar keine Zahl eingegeben.";
        }
      }
    </script>
      <h1>Prozentrechnungen</h1>
      <button onclick="erstesMal()">Ich bin zum ersten Mal hier</button><br>
      <button id="bu" onclick="infos()">Allgemeine Infos</button>
      <p id="p"></p>
      <h2>Ich suche...</h2>
      <div id="container1">
        <button class="prozentsatz" onclick="prozentsatz()">Prozentsatz</button>
          <p class="prozentsatz" id="prozentsatz1"></p>
          <p class="prozentsatz" id="prozentsatz2"></p>
          <p class="prozentsatz" id="prozentsatz3"></p>
          <p class="prozentsatz" id="prozentsatz4"></p>
      </div>
      <div id="container2">
        <button class="prozentwert" onclick="prozentwert()">Prozentwert</button>
          <p class="prozentwert" id="prozentwert1"></p>
          <p class="prozentwert" id="prozentwert2"></p>
          <p class="prozentwert" id="prozentwert3"></p>
          <p class="prozentwert" id="prozentwert4"></p>
      </div>
      <div id="container3">
        <button class="grundwert" onclick="grundwert()">Grundwert</button><br>
          <p class="grundwert" id="grundwert1"></p>
          <p class="grundwert" id="grundwert2"></p>
          <p class="grundwert"id="grundwert3"></p>
          <p class="grundwert" id="grundwert4"></p>
      </div>
  </body>
  <script>
    alert("ACHTUNG! Diese Seite wird gerade bearbeitet. Möglicherweise treten Fehler auf." + 
          " Es kann auch grössere Veränderungen geben. Ich bitte um Verständnis.");
  </script>
</html>
