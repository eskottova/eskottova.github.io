<!DOCTYPE HTML>
<html>
  <head>
    <title>Collatz Conjecture</title>
    <style>
      body{
        font-family:sans-serif;
      }
      .numbers{
        position:absolute;
      }
      .oddNumbers{
        top:60px;
      }
      .evenNumbers{
      }
    </style>
  </head>
  <body>
    <h1>Collatz Conjecture</h1>
    <div id="contentDiv"></div>
    <script>
      var oddNumbers = []
      var evenNumbers = []
      var j = 0 //current even number 
      var y = 1 //current odd number value
      for(var i = 1; i < 20; i++) //creates all numbers, i = current odd number
      {
        oddNumbers[i] = document.createElement('div')
        document.body.appendChild(oddNumbers[i])
        oddNumbers[i].style.left = i * 100 + 'px'
        oddNumbers[i].innerHTML = y
        oddNumbers[i].className = 'evenNumbers numbers'
        var z = 0 //counts even numbers per odd one
        var x = y*2 //current even number value
        var z2 = 0 //makes sure the positions of numbers are correct after resetting z
        var newOdd = false //true if a new odd number can be created out of the current even onumber
        while(z < 5 && !newOdd) //creates up to 5 even numbers
        {
          evenNumbers[j] = document.createElement('div')
          document.body.appendChild(evenNumbers[j])
          evenNumbers[j].style.left = i * 100 + 'px'
          evenNumbers[j].style.top = (z + z2) * 20 + 80 + 'px'
          evenNumbers[j].innerHTML = x
          evenNumbers[j].className = 'evenNumbers numbers'
          if(x == 4)
          {
            x = 16 //prevents program from going back to 1 all the time     
          }
          if(x % 3 == 1)
          {
            newOdd = true
            var y2 = y //stores old value of y
            y = (x - 1)/3
            z2 = 0//resets z2
            if(z2 != 0)
            {
              i ++
            }
          }
          else if(z == 4)
          {
            y = y2
            z = 0
            z2 += 4
            i = i - 1
          }
          j ++
          x *= 2
          z ++
        }
      }
    </script>
  </body>
</html>
