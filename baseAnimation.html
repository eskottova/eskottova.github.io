<!DOCTYPE html>
<html>
  <head>
    <title>BASE ANIMATION</title>
    <style>
      #circles div, #circles3 div, #circles4 div, #circles5 div, #circles6 div
      {
        display:inline-block;
        border-radius:50%;
        height:25px;
        width:25px;
        color:blue;
        margin:2px;
      }
      body 
      {
        background:rgb(0,0,0);
        color:rgb(255, 255, 155);
        font-family:sans-serif;
        font-size:2em;
      }
      h2
      {
        color:rgb(255, 255, 155);
      }
      button 
      {
        background:rgb(0, 0, 0);
        border:1px solid rgb(255, 255, 155);
        color:rgb(255, 255, 155);
        font-size:2em;
      }
    </style>
  </head>
  <body>
      <h1>BASE ANIMATION</h1><br>
    <h2 id="countInBinaryH2"></h2>
    <div id="circles">
    Binary:<br>
    </div>
    <div id="circles3">
    Base 3:<br>
    </div>
    <div id="circles4">
    Base 4:<br>
    </div>
    <div id="circles5">
    Base 5:<br>
    </div>
    <div id="circles6">
    Base 6:<br>
    </div>
    <button onclick="countInBinary();" >Click to start</button>
    <script>
      var circles = [];
      for(i = 159; i >= 0; i--)
      {
        circles[i] = document.createElement("div");
        if(i >= 128)
        {
          document.getElementById("circles6").appendChild(circles[i]);
        }
        else if(i >= 96)
        {
          document.getElementById("circles5").appendChild(circles[i]);
        }
        else if(i >= 64)
        {
          document.getElementById("circles4").appendChild(circles[i]);
        }
        else if(i >= 32)
        {
          document.getElementById("circles3").appendChild(circles[i]);
        }
        else
        {
          document.getElementById("circles").appendChild(circles[i]);
        }
      }
      var H2 = document.getElementById("countInBinaryH2");
      var u = 1; //used for loop 
      var v = 0; //used for a loop wich turns lights off 
      var w = 0; //checks if x is divisible by y
      var x = 0; //number which should be displayed
      var y = 0; //value of the pin
      var z = 0; //pin number
      var colors = ["rgb(255, 255, 155)","rgb(255, 155, 0)","rgb(255, 0, 0)","rgb(0, 0, 155)","rgb(0, 155, 0)"];
      //same variables for base 3
      var w3 = 0;
      var y3 = 1;
      //base 4
      var w4 = 0;
      var y4 = 1; 
      //base 5
      var w5 = 0;
      var y5 = 1;
      //base 6
      var w6 = 0;
      var y6 = 1;
      var reset = true;
      var counting = true; //checks if the prgram is allowed to count
      var countInBinary = function()
      {
        if(counting)
        {
          if(x === 0 && !reset)
          {
            for(v = 0; v < 160; v++)
            {
              lightOff(circles[v]);
            }
            x = 1;
            reset = true;
          }
          else
          {
            x ++; //counts
            H2.innerHTML = x; //displays the binary number in decimal
            y3 = 1; //resetting y3
            y4 = 1; //resetting y4
            y5 = 1; //resetting y5
            y6 = 1; //resetting y6
            for(u = 2; u < 6; u++)
            {
              z = 0;//resetting z
              for(y = 1; y < (u**32); y *= u) //cycle through pins by using multiples of 2 (binary!)
              {
                w = x % y; //setting w to the remainder of x / y
                w3 = x % y3;
                w4 = x % y4;
                w5 = x % y5;
                w6 = x % y6;
                if((x - w) % (y * u) != 0) //complicated condition
                {
                  circles[z + (u - 1) * 32].style.background = colors[(x - w) % (u * y) / y - 1];
                }
                else
                {
                  circles[z + (u - 1) * 32].style.background = "rgb(0, 0, 0)";
                }
              /*  //base 3
                if((x - w3) % (y3 * 3) != 0) //complicated condition
                {
                  circles[(z + 32)].style.background = colors[(x - w3) % (3 * y3) / y3 - 1];
                }
                else
                {
                  circles[(z + 32)].style.background = "rgb(0, 0, 0)";
                }
                y3 *= 3;
                //base 4
                if((x - w4) % (y4 * 4) != 0) //complicated condition
                {
                  circles[(z + 64)].style.background = colors[(x - w4) % (4 * y4) / y4 - 1];
                }
                else
                {
                  circles[(z + 64)].style.background = "rgb(0, 0, 0)";
                }
                y4 *= 4;
                //base 5
                if((x - w5) % (y5 * 5) != 0) //complicated condition
                {
                  circles[(z + 96)].style.background = colors[(x - w5) % (5 * y5) / y5 - 1];
                }
                else
                {
                  circles[(z + 96)].style.background = "rgb(0, 0, 0)";
                }
                y5 *= 5;
                //base 6
                if((x - w6) % (y6 * 6) != 0) //complicated condition
                {
                  circles[(z + 128)].style.background = colors[(x - w6) % (6 * y6) / y6 - 1];
                }
                else
                {
                  circles[(z + 128)].style.background = "rgb(0, 0, 0)";
                }
                y6 *= 6;*/
                z ++;
              }
            }
          }  
          if(x < (2**32-1)) //runs the function until x is equal to 4294967295
          {
            setTimeout(countInBinary, 300); //wait 300 milliseconds until next number
          }
          else
          {
            counting = false; //the program will stop counting
            setTimeout(allowToCount, 2000); //waits a 2 seconds before it allows to start again
          }
        }
      }  
      var allowToCount = function()
      {
        counting = true;
        x = 0;
      }
    </script>
  </body>
</html>
